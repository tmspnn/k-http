!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.kHttp=t():e.kHttp=t()}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=Object.assign(new XMLHttpRequest,{async:e.async||!0,beforeSend:e.beforeSend,callbacks:[],cancel:function(){t.abort()},catch:function(e){return t.callbacks.push({type:"reject",handler:e}),t},contentType:e.contentType,data:e.data||null,error:null,extendedBy:"k-xhr",finally:function(e){return t.finallyHandler=e,t},finallyHandler:null,headers:e.headers,method:(e.method||"get").toUpperCase(),onprogress:e.onprogress,resolve:function(){var e;if(t.value&&"k-xhr"==t.value.extendedBy)(e=t.value.callbacks).push.apply(e,t.callbacks),t.value.finallyHandler=t.finallyHandler,t.callbacks.length=0,t.finallyHandler=null;else{for(var n=void 0;n=t.callbacks.shift();)if("resolve"==n.type)try{t.value=n.handler(t.value)}catch(e){return t.state="rejected",t.error=e,t.reject()}t.finallyHandler&&t.finallyHandler(t)}},reject:function(){for(var e;e=t.callbacks.shift();)if("reject"==e.type&&(t.value=e.handler(t.error),null!=t.value))return t.state="fulfilled",t.resolve();t.finallyHandler&&t.finallyHandler(t)},state:"pending",then:function(e,n){return t.callbacks.push({type:"resolve",handler:e}),n&&t.callbacks.push({type:"reject",handler:n}),t},timeout:e.timeout||0,url:e.url,value:null,withCredentials:e.withCredentials||!1});if(t.open(t.method,t.url,t.async),t.contentType&&t.setRequestHeader("Content-Type",t.contentType),t.headers)for(var n in t.headers)t.headers.hasOwnProperty(n)&&t.setRequestHeader(n,t.headers[n]);return t.onload=function(){t.status>=200&&t.status<400?(t.state="fulfilled",t.value=t.responseText,t.resolve()):t.onerror()},t.onerror=function(){t.state="rejected",t.error=t.responseText||t.status,t.reject()},t.beforeSend&&t.beforeSend(t),setTimeout(function(){return t.send(t.data)}),t}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(0));function l(e){var t=e.charAt(0);return"{"==t||"["==t}function o(e,t,n,r){var o=Object.assign({url:e,method:t},r);return n instanceof Object&&n.constructor==Object&&Object.assign(o,{contentType:"application/json",data:JSON.stringify(n)}),a.default(o).then(function(e){return l(e)?JSON.parse(e):e})}t.default={get:function(e,t){var n=Object.assign({url:e},t);return a.default(n).then(function(e){return l(e)?JSON.parse(e):e})},post:function(e,t,n){return o(e,"post",t,n)},put:function(e,t,n){return o(e,"put",t,n)},del:function(e,t){return a.default(Object.assign({url:e,method:"delete"},t)).then(function(e){return l(e)?JSON.parse(e):e})}}}]).default});
//# sourceMappingURL=k-http.min.js.map